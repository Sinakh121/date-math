import moment from"jalali-moment";var MILI="milliseconds",SECONDS="seconds",MINUTES="minutes",HOURS="hours",DAY="day",WEEK="week",MONTH="month",YEAR="year",DECADE="decade",CENTURY="century",multiplierMilli={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},multiplierMonth={month:1,year:12,decade:120,century:1200};function daysOf(e){return[31,daysInFeb(e),31,30,31,30,31,31,30,31,30,31]}function daysInFeb(e){return e%4==0&&e%100!=0||e%400==0?29:28}export function add(e,r,t){switch(e=new Date(e),t){case MILI:case SECONDS:case MINUTES:case HOURS:case DAY:case WEEK:return addMillis(e,r*multiplierMilli[t]);case MONTH:case YEAR:case DECADE:case CENTURY:return addMonths(e,r*multiplierMonth[t])}throw new TypeError('Invalid units: "'+t+'"')}function addMillis(e,r){return solveDST(e,new Date(+e+r))}function addMonths(e,r){var t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),s=12*t+a+r,c=Math.trunc(s/12),o=s%12,u=Math.min(n,daysOf(c)[o]),i=new Date(e);return i.setFullYear(c),i.setDate(1),i.setMonth(o),i.setDate(u),i}function solveDST(e,r){var t=e.getTimezoneOffset(),a=r.getTimezoneOffset();return new Date(+r+(a-t)*multiplierMilli.minutes)}export function subtract(e,r,t){return add(e,-r,t)}export function startOf(e,r,t){switch(e=new Date(e),r){case CENTURY:case DECADE:case YEAR:e=month(e,0);case MONTH:e=date(e,1),"fa"===window.General.LanguageCode&&(e=moment(e).startOf("jMonth").toDate());case WEEK:case DAY:e=hours(e,0);case HOURS:e=minutes(e,0);case MINUTES:e=seconds(e,0);case SECONDS:e=milliseconds(e,0)}return r===DECADE&&(e=subtract(e,year(e)%10,"year")),r===CENTURY&&(e=subtract(e,year(e)%100,"year")),r===WEEK&&(e=weekday(e,0,t)),e}export function endOf(e,r,t){switch(e=startOf(e=new Date(e),r,t),r){case CENTURY:case DECADE:case YEAR:case MONTH:case WEEK:(e=subtract(e=add(e,1,r),1,DAY)).setHours(23,59,59,999);break;case DAY:e.setHours(23,59,59,999);break;case HOURS:case MINUTES:case SECONDS:e=subtract(e=add(e,1,r),1,MILI)}return e}export var eq=createComparer(function(e,r){return e===r});export var neq=createComparer(function(e,r){return e!==r});export var gt=createComparer(function(e,r){return e>r});export var gte=createComparer(function(e,r){return e>=r});export var lt=createComparer(function(e,r){return e<r});export var lte=createComparer(function(e,r){return e<=r});export function min(){return new Date(Math.min.apply(Math,arguments))}export function max(){return new Date(Math.max.apply(Math,arguments))}export function inRange(e,r,t,a){return a=a||"day",(!r||gte(e,r,a))&&(!t||lte(e,t,a))}export var milliseconds=createAccessor("Milliseconds");export var seconds=createAccessor("Seconds");export var minutes=createAccessor("Minutes");export var hours=createAccessor("Hours");export var day=createAccessor("Day");export var date=createAccessor("Date");export var month=createAccessor("Month");export var year=createAccessor("FullYear");export function decade(e,r){return void 0===r?year(startOf(e,DECADE)):add(e,r+10,YEAR)}export function century(e,r){return void 0===r?year(startOf(e,CENTURY)):add(e,r+100,YEAR)}export function weekday(e,r,t){var a=(day(e)+7-(t||0))%7;return void 0===r?a:add(e,r-a,DAY)}export function diff(e,r,t,a){var n,s,c;switch(t){case MILI:case SECONDS:case MINUTES:case HOURS:case DAY:case WEEK:n=r.getTime()-e.getTime();break;case MONTH:case YEAR:case DECADE:case CENTURY:n=12*(year(r)-year(e))+month(r)-month(e);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case MILI:s=1;break;case SECONDS:s=1e3;break;case MINUTES:s=6e4;break;case HOURS:s=36e5;break;case DAY:s=864e5;break;case WEEK:s=6048e5;break;case MONTH:s=1;break;case YEAR:s=12;break;case DECADE:s=120;break;case CENTURY:s=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return c=n/s,a?c:Math.round(c)}function createAccessor(e){var r=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(t,a){if(void 0===a)return t["get"+e]();var n=new Date(t);return n["set"+e](a),r&&n["get"+e]()!=a&&("Hours"===e||a>=r&&n.getHours()-t.getHours()<Math.floor(a/r))&&n["set"+e](a+r),n}}function createComparer(e){return function(r,t,a){return e(+startOf(r,a),+startOf(t,a))}}